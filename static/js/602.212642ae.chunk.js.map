{"version":3,"file":"static/js/602.212642ae.chunk.js","mappings":"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","sources":["pages/MovieDetailsPage.jsx","services/apiMoviedb.js"],"sourcesContent":["import * as API from 'services/apiMoviedb';\nimport React, { useEffect, useState } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\n\nconst MovieDetailsPage = () => {\n  const { movieId } = useParams();\n  const [movieDetails, setMovieDetails] = useState([]);\n\n  useEffect(() => {\n    API.getMovieDetails(movieId).then(movieDetailsReturnedFromApi =>\n      setMovieDetails(movieDetailsReturnedFromApi)\n    );\n  }, [movieId]);\n\n  const location = useLocation();\n  console.log(location);\n  // console.log(location.state.from.search);\n  const backLink = location.state?.from ?? `/movies/${movieId}`;\n\n  return (\n    <div>\n      <Link to={backLink} relative='path'>\n        {' '}\n        <button type=\"button\">Go back</button>\n      </Link>\n      <h2>\n        {movieDetails.title}(\n        {movieDetails.release_date\n          ? movieDetails.release_date.substring(0, 4)\n          : ''}\n        )\n      </h2>\n      <img\n        src={`https://image.tmdb.org/t/p/w300_and_h450_bestv2${movieDetails.poster_path}`}\n        alt={movieDetails.original_title}\n      />\n      <p>\n        User Score:{' '}\n        {movieDetails.vote_average\n          ? Math.fround(movieDetails.vote_average * 10).toFixed(0)\n          : ''}\n      </p>\n      {movieDetails?.length > 0 && (\n        <>\n          <h4>Genres</h4>\n          <p>\n            {movieDetails.genres\n              ? movieDetails.genres.map(genre => genre.name).join('/')\n              : ''}\n          </p>\n        </>\n      )}\n\n      <p>Additional information</p>\n      <ul>\n        <li>\n          <Link to=\"cast\">Cast</Link>\n        </li>\n        <li>\n          <Link to=\"reviews\">Reviews</Link>\n        </li>\n      </ul>\n      <Outlet />\n    </div>\n  );\n};\n\nexport default MovieDetailsPage;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'b8b4ca8ae31738ae90c3cb58e4b03190';\nconst ADULT = 'false';\nconst LANGUAGE = 'en-US';\n//  20 items are always returned per page, no change!\n\n// общий список --- HomePage\nconst getTrending = async () => {\n  const resp = await axios.get(`/trending/movie/day?api_key=${API_KEY}&include_adult=${ADULT}`);\n  // console.log(resp.data.results);      // array\n  return resp.data.results.map(({ id, title }) => {\n    return { id, title };\n  });\n};\n\n// поиск по названию --- SearchForm\nconst searchMovies = async inputValue => {\n  const resp = await axios.get(`/search/movie?api_key=${API_KEY}&include_adult=${ADULT}&query=${inputValue}&language=${LANGUAGE}&page=1`);\n  // console.log(resp.data.results);       // array\n  return resp.data.results.map(({ id, title }) => {\n    return { id, title };\n  });\n};\n\n// описание 1 фильма --- MovieDetailsPage\nconst getMovieDetails = async movieId => {\n  const resp = await axios.get(`/movie/${movieId}?api_key=${API_KEY}&language=${LANGUAGE}`);\n  // console.log(resp.data);         // object\n  return resp.data;\n};\n\n// состав актеров --- Cast\nconst getMovieCredits = async moviesId => {\n  const resp = await axios.get(`/movie/${moviesId}/credits?api_key=${API_KEY}&language=${LANGUAGE}`);\n  // console.log(resp.data.cast);      // array\n  return resp.data.cast.map(({ name, character, profile_path, id }) => {\n    return { name, character, profile_path, id };\n  });\n};\n\n// отзывы --- Reviews\nconst getMoviesReviews = async moviesId => {\n  const resp = await axios.get(`/movie/${moviesId}/reviews?api_key=${API_KEY}&language=${LANGUAGE}&page=1`);\n  // console.log(resp.data.results);      // array\n  return resp.data.results.map(({ author, content, id }) => {\n    return { author, content, id };\n  });\n};\n\nexport {getTrending, searchMovies, getMovieDetails, getMovieCredits, getMoviesReviews};\n"],"names":["movieId","useParams","useState","movieDetails","setMovieDetails","useEffect","API","then","movieDetailsReturnedFromApi","location","useLocation","console","log","backLink","state","from","to","relative","type","title","release_date","substring","src","poster_path","alt","original_title","vote_average","Math","fround","toFixed","length","genres","map","genre","name","join","axios","API_KEY","ADULT","LANGUAGE","getTrending","resp","data","results","id","searchMovies","inputValue","getMovieDetails","getMovieCredits","moviesId","cast","character","profile_path","getMoviesReviews","author","content"],"sourceRoot":""}